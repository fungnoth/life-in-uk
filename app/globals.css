@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

.material-symbols-outlined {
  font-family: 'Material Symbols Outlined';
  font-weight: normal;
  font-style: normal;
  font-size: 24px;
  line-height: 1;
  letter-spacing: normal;
  text-transform: none;
  display: inline-block;
  white-space: nowrap;
  word-wrap: normal;
  direction: ltr;
  -webkit-font-feature-settings: 'liga';
  font-feature-settings: 'liga';
  -webkit-font-smoothing: antialiased;
}

@layer base {
  body {
    font-family: 'Inter', sans-serif;
    @apply bg-gray-50;
    @apply text-color--body;
    @apply transition-colors duration-150;
  }

  .section-px {
    @apply px-3 sm:px-6;
  }

  .section-py {
    @apply py-6;
  }
}

@layer components {

  .base-btn {
    @apply p-3 sm:px-6 text-center rounded-lg font-medium transition-colors;
  }

  .btn--blue {
    @apply base-btn;
    @apply bg-primary-600 text-white hover:bg-primary-700;
  }

  .btn--green {
    @apply base-btn;
    @apply bg-success-600 text-white hover:bg-success-700;
  }

  .btn--warning {
    @apply base-btn;
    @apply bg-warning-600 text-white hover:bg-warning-700;
  }

  .btn--danger {
    @apply base-btn;
    @apply bg-danger-600 text-white hover:bg-danger-700;
    @apply dark:bg-danger-800;
  }

  .btn--gray {
    @apply base-btn;
    @apply bg-gray-300 text-gray-700 hover:bg-gray-400;
  }

  .answer-button {
    @apply w-full p-4 text-left rounded-lg border-2;
  }

  .answer-button--other-results {
    @apply bg-gray-50 border-gray-200 text-gray-700;
    @apply dark:bg-gray-800 dark:border-gray-600 dark:text-neutral-300;
  }

  .answer-button--unselected {
    @apply bg-white border-gray-200 text-gray-700 hover:border-primary-300 hover:bg-primary-50;
    @apply dark:bg-gray-600 dark:border-gray-400 dark:text-neutral-100;
  }

  .answer-button--selected {
    @apply bg-primary-100 border-primary-500 text-primary-800;
    @apply dark:bg-primary-800 dark:border-primary-400 dark:text-primary-50;
  }

  .answer-button--selected-correct {
    @apply bg-success-100 border-success-500 text-success-800;
    @apply dark:bg-success-800 dark:border-success-400 dark:text-success-50;
  }

  .answer-button--selected-incorrect {
    @apply bg-danger-100 border-danger-500 text-danger-800;
    @apply dark:bg-danger-900 dark:border-danger-700 dark:text-danger-50;
  }

  .answer-button--unselected-correct {
    @apply bg-success-50 border-success-300 text-success-700;
    @apply dark:bg-black/50 dark:border-success-400 dark:text-success-200;
  }

  .section-card {
    @apply section-px section-py rounded-xl shadow-md border border-transparent;
  }

  .section-card-color {
    @apply bg-white;
    @apply dark:bg-slate-800 dark:border-slate-400 dark:text-neutral-100;
  }

  .info-card {
    @apply section-card rounded-xl;
  }

  .info-blue-colors {
    @apply bg-blue-50 text-blue-900 border-blue-200;
    @apply dark:bg-indigo-900 dark:text-neutral-200 dark:border-indigo-400;
  }

  .info-red-colors {
    @apply bg-red-50 text-red-800 border-red-200;
    @apply dark:bg-red-800 dark:text-neutral-200 dark:border-red-400;
  }

  .info-green-colors {
    @apply bg-green-50 text-green-800 border-green-200;
    @apply dark:bg-green-800 dark:text-neutral-200 dark:border-green-400;
  }

  .primary-blue-colors {
    @apply bg-primary-600 text-white border-transparent;
    @apply dark:bg-primary-700 dark:border-primary-500;
  }

  .primary-red-colors {
    @apply border-danger-600 bg-danger-600 text-white;
    @apply dark:border-danger-600 dark:bg-danger-800;
  }

  .primary-green-colors {
    @apply bg-success-600 text-white border-transparent;
    @apply dark:bg-success-700 dark:border-success-500;
  }

  .primary-amber-colors {
    @apply border-warning-600 bg-warning-600 text-white;
    @apply dark:border-amber-400 dark:bg-amber-600;
  }

  .plain-light-gray-colors {
    @apply border-gray-300 bg-white text-gray-700 hover:border-primary-500 hover:text-primary-600;
    @apply dark:border-slate-500 dark:bg-slate-600 dark:text-neutral-100;
    @apply dark:hover:bg-primary-500 dark:hover:border-primary-200 dark:hover:text-white;
  }

  .info-card--blue {
    @apply info-card info-blue-colors;
  }

  .accordion-grid-v {
    display: grid;
    grid-template-rows: 0fr;
    transition: 0.3s ease-in-out;
    transition-property: grid-template-rows, opacity;
    will-change: grid-template-rows, opacity;
    opacity: 0;
    overflow: hidden;
    /* Added to ensure clipping during transition */
  }

  .accordion-grid-v.peek {
    opacity: 1;
    grid-template-rows: var(--peak-height, 40px) 0fr;
  }

  .accordion-grid-v.peek.expanded {
    grid-template-rows: var(--peak-height, 40px) 1fr;
  }

  .accordion-grid-v.peek>.accordion-inner {
    grid-row: 1 / span 2;
  }

  .accordion-grid-v.expanded:not(.peek) {
    grid-template-rows: 1fr;
    opacity: 1;
  }

  .accordion-grid-h {
    display: grid;
    grid-template-columns: 0fr;
    transition: 0.3s;
    transition-property: grid-template-columns, opacity;
    will-change: grid-template-columns, opacity;
    opacity: 0;
    overflow: hidden;
  }

  .accordion-grid-h.expanded {
    grid-template-columns: 1fr;
    opacity: 1;
  }

  .accordion-inner {
    overflow: hidden;
    min-height: 0;
  }

  .quiz-timer {
    @apply text-lg font-medium text-color--muted;
  }

}

@layer utilities {
  .text-color--title {
    @apply text-gray-900 dark:text-neutral-100;
  }

  .text-color--body {
    @apply dark:bg-gray-900 dark:text-neutral-300;
  }

  .text-color--muted {
    @apply text-gray-600 dark:text-neutral-300;
  }

  .text-color--blue {
    @apply text-blue-600 hover:text-blue-700;
    @apply dark:text-blue-300 dark:hover:text-blue-100;
  }

  .bg-info-blue {}
}

/* Custom styles for the test interface */
.question-grid {
  display: grid;
  grid-template-columns: repeat(10, 1fr);
  gap: 0.5rem;
}

@media (max-width: 768px) {
  .question-grid {
    grid-template-columns: repeat(5, 1fr);
  }
}


.question-button {
  @apply w-12 h-12 rounded border-2 border-gray-300 bg-white text-gray-700 font-medium transition-all duration-200 hover:border-primary-500 hover:text-primary-600;
}

.question-button.current {
  @apply border-primary-600 bg-primary-600 text-white;
}

.question-button.correct {
  @apply border-success-500 bg-success-500 text-white;
}

.question-button.incorrect {
  @apply border-danger-500 bg-danger-500 text-white;
}

.question-button.review {
  @apply border-warning-500 bg-warning-500 text-white;
}

.answer-option {
  @apply w-full p-4 border-2 border-gray-200 rounded-lg text-left transition-all duration-200 hover:border-primary-300 hover:bg-primary-50 text-gray-900;
}

.answer-option.selected {
  @apply border-primary-500 bg-primary-50 text-gray-900;
}

.timer {
  @apply text-2xl font-bold text-gray-800;
}

.progress-indicator {
  @apply text-lg font-medium text-gray-600;
}

/* Force visible text utility class */
.force-dark-text {
  color: #111827 !important;
  /* gray-900 */
}

.force-dark-text * {
  color: #111827 !important;
  /* gray-900 */
}

/* Mobile-specific fixes for text colors */
@media (max-width: 768px) {}

/* Ensure buttons don't overflow on small screens */
@media (max-width: 480px) {}